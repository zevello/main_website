(()=>{"use strict";var t={3744:(t,e)=>{e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,a]of e)n[t]=a;return n}}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}(()=>{const t=Vue;const e={data:function(){return{loading:!0,activityLogs:[]}},mounted:function(){this.getActivityLogs()},methods:{getActivityLogs:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0,axios.get(e||"/account/ajax/activity-logs").then((function(e){var n=[];t.activityLogs.data&&(n=t.activityLogs.data),t.activityLogs=e.data,t.activityLogs.data=n.concat(t.activityLogs.data),t.loading=!1}))}}};var a=n(3744);const i=(0,a.Z)(e,[["render",function(e,n,a,i,o,r){return(0,t.renderSlot)(e.$slots,"default",(0,t.normalizeProps)((0,t.guardReactiveProps)({activityLogs:o.activityLogs,loading:o.loading})))}]]);const o={data:function(){return{isLoading:!0,isSubscribing:!1,data:[],account:{},currentPackageId:null}},mounted:function(){this.getData()},props:{url:{type:String,default:function(){return null},required:!0},subscribe_url:{type:String,default:function(){return null},required:!0}},methods:{getData:function(){var t=this;this.data=[],this.isLoading=!0,axios.get(this.url).then((function(e){if(e.data.error)Botble.showError(e.data.message);else{t.data=e.data.data.packages,t.account=e.data.data.account;var n=document.querySelector(".account-current-credit span");n&&(n.innerText=t.account.formatted_credits)}t.isLoading=!1}))},postSubscribe:function(t){var e=this;this.isSubscribing=!0,this.currentPackageId=t,axios.post(this.subscribe_url,{id:t,_method:"PUT"}).then((function(t){t.data.error?Botble.showError(t.data.message):t.data.data&&t.data.data.next_page?window.location.href=t.data.data.next_page:(e.account=t.data.data,Botble.showSuccess(t.data.message),e.getData()),e.isSubscribing=!1})).catch((function(t){e.isSubscribing=!1,console.log(t)}))}}},r=(0,a.Z)(o,[["render",function(e,n,a,i,o,r){return(0,t.renderSlot)(e.$slots,"default",(0,t.normalizeProps)((0,t.guardReactiveProps)({data:e.data,account:e.account,isLoading:e.isLoading,isSubscribing:e.isSubscribing,postSubscribe:r.postSubscribe})))}]]);const s={data:function(){return{isLoading:!0,isLoadingMore:!1,data:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.isLoadingMore=!0:this.isLoading=!0,axios.get(e||"/account/ajax/transactions").then((function(e){var n=[];t.data.data&&(n=t.data.data),t.data=e.data,t.data.data=n.concat(t.data.data),t.isLoading=!1,t.isLoadingMore=!1}))}}},c=(0,a.Z)(s,[["render",function(e,n,a,i,o,r){return(0,t.renderSlot)(e.$slots,"default",(0,t.normalizeProps)((0,t.guardReactiveProps)({isLoading:o.isLoading,isLoadingMore:o.isLoadingMore,data:o.data,getData:r.getData})))}]]);function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var l=Vue.nextTick;const f={data:function(){return{items:[{id:"",distance:""}]}},mounted:function(){if(this.selected_facilities.length){this.items=[];var t,e=d(this.selected_facilities);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.items.push({id:n.id,distance:n.distance})}}catch(t){e.e(t)}finally{e.f()}}},props:{selected_facilities:{type:Array,default:function(){return[]}},facilities:{type:Array,default:function(){return[]}}},methods:{addRow:function(){this.items.push({id:"",distance:""}),l((function(){window.Botble&&window.Botble.initResources()}))},deleteRow:function(t){this.items.splice(t,1)},removeSelectedItem:function(){for(var t=0;t<this.facilities.length;t++){var e,n=d(this.items);try{for(n.s();!(e=n.n()).done;){e.value.id===this.facilities[t].id&&this.facilities.slice(t,1)}}catch(t){n.e(t)}finally{n.f()}}}}},g=(0,a.Z)(f,[["render",function(e,n,a,i,o,r){return(0,t.renderSlot)(e.$slots,"default",(0,t.normalizeProps)((0,t.guardReactiveProps)({items:e.items,facilities:a.facilities,addRow:r.addRow,deleteRow:r.deleteRow,removeSelectedItem:r.removeSelectedItem})))}]]);"undefined"!=typeof vueApp&&vueApp.booting((function(t){t.component("activity-log-component",i),t.component("packages-component",r),t.component("payment-history-component",c),t.component("facilities-component",g)}))})()})();
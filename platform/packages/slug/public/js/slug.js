(()=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(t)}function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(o=a.key,i=void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(i)?i:String(i)),a)}var o,i}function e(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}var r=e((function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t,e=$(document).find(".slug-field-wrapper");$(document).on("blur","#".concat(e.data("field-name")),(function(n){if(!e.find('input[name="slug"]').is("[readonly]")){var t=$(n.currentTarget).val();null===t||""===t||e.find('input[name="slug"]').val()||a(t,0)}})),$(document).on("keyup",'input[name="slug"]',(function(n){clearTimeout(t),t=setTimeout((function(){var t=$(n.currentTarget);if(0!==(e=$(document).find(".slug-field-wrapper")).has(".slug-data").length){var r=t.val(),o=e.find(".slug-data").data("id")||0;null!==r&&""!==r?a(r,o):t.addClass("is-invalid")}}),200)})),$(document).on("click",'[data-bb-toggle="generate-slug"]',(function(n){n.preventDefault();var t=$(document).find("#".concat(e.data("field-name")));null!==t.val()&&""!==t.val()&&a(t.val(),0)}));var r=function(){var n=e.find(".slug-actions a"),t=$('<div class="spinner-border spinner-border-sm" role="status"></div>');n.hasClass("d-none")?(n.removeClass("d-none"),e.find(".spinner-border").remove()):(n.addClass("d-none"),n.after(t))},a=function(n,t){var a=(e=$(document).find(".slug-field-wrapper")).closest("form"),o=e.find(".slug-data");r(),$httpClient.make().post(o.data("url"),{value:n,slug_id:t.toString(),model:a.find('input[name="model"]').val()}).then((function(n){var t=n.data;r();var i="".concat(o.data("view")).concat(t.toString().replace("/",""));e.find('input[name="slug"]').val(t),a.find(".page-url-seo p").text(i),e.find(".slug-current").val(t)}))}}));$((function(){new r}))})();